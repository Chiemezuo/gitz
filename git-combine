#!/usr/bin/env python3
from gitz import combine
from gitz.program import PROGRAM

USAGE = """\
git-combine: Combine multiple commits into one

USAGE:
    git-combine <base-commit> [<additional-commit> ...<additional-commit>]

"""
HELP = """
Create a single commit out of many.

Equivalent to hard resetting to the base commit, then cherry picking
each subsequent commit.

EXAMPLES:
    git combine master d2dfe0c a2833bc
        Goes to the commit in `master` and then cherry picks the two commits
        d2dfe0c and a2833bc on top of it.
"""


def git_combine():
    args = PROGRAM.args
    combine.combine(args, args.base, *args.commit_id)


def add_arguments(parser):
    add_arg = parser.add_argument
    add_arg('commit_id', nargs='+', help='List of commit IDs to cherry pick')
    add_arg('-b', '--base', help='Base commit to start from')


if __name__ == '__main__':
    PROGRAM.run(**globals())
